<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2.13 Loops: while and for (Task 1-7)</title>
  </head>
  <body>
    <!-- https://javascript.info/while-for -->

    <script>
      // The “for” loop
      //
      // Inline variables (begin) are visible only inside the loop
      // Any part of a for loop definition can be skipped
      //
      // for (begin; condition; step)

      // We can actually remove everything, creating an infinite loop:
      //
      // for (;;)

      // Task 1 - Last loop value
      // ---------------------------------------------------------------

      let i = 3;

      while (i) {
        alert(i--);
      }

      // while (3), alert(3), i = i - 1 = 3 - 1 = 2
      // while (2), alert(2), i = i - 1 = 2 - 1 = 1
      // while (1), alert(1), i = i - 1 = 1 - 1 =  0
      // while (0)

      // 0 evaluates to false

      // Task 2 - Which values does the while loop show?
      // ---------------------------------------------------------------

      // Curly braces omission
      //
      // We can omit curly braces of single statement code blocks

      // function ask(question, yes, no) {
      //   if (confirm(question)) yes();
      //   else no();
      // }

      // Prefixed increment

      i = 0;
      while (++i < 5) alert(i);

      // i = i + 1 = 0 + 1 = 1, while (1 < 5), alert(1)
      // i = i + 1 = 1 + 1 = 2, while (2 < 5), alert(2)
      // i = i + 1 = 2 + 1 = 3, while (3 < 5), alert(3)
      // i = i + 1 = 3 + 1 = 4, while (4 < 5), alert(4)
      // i = i + 1 = 4 + 1 = 5, while (5 < 5)

      // Postfixed increment

      i = 0;
      while (i++ < 5) alert(i);

      // while (0 < 5), i = i + 1 = 0 + 1 = 1, alert(1)
      // while (1 < 5), i = i + 1 = 1 + 1 = 2, alert(2)
      // while (2 < 5), i = i + 1 = 2 + 1 = 3, alert(3)
      // while (3 < 5), i = i + 1 = 3 + 1 = 4, alert(4)
      // while (4 < 5), i = i + 1 = 4 + 1 = 5, alert(5)
      // while (5 < 5), i = i + 1 = 5 + 1 = 6

      // Task 3 - Which values get shown by the "for" loop?
      // ---------------------------------------------------------------

      // Postfix increment step

      for (let i = 0; i < 5; i++) alert(i);

      // alert(0)
      // alert(1)
      // alert(2)
      // alert(3)
      // alert(4)

      // Prefixed increment step

      for (let i = 0; i < 5; ++i) alert(i);

      // alert(0)
      // alert(1)
      // alert(2)
      // alert(3)
      // alert(4)

      // Task 4 - Output even numbers in the loop
      // ---------------------------------------------------------------

      for (let i = 2; i <= 10; i = i + 2) {
        alert(i);
      }

      // Task 5 - Replace "for" with "while"
      // ---------------------------------------------------------------

      // for (let i = 0; i < 3; i++) {
      //   alert(`number ${i}!`);
      // }

      i = 0;
      while (i < 3) {
        alert(`number ${i}!`);

        i++;
      }

      // Task 6 - Repeat until the input is correct
      // ---------------------------------------------------------------

      let response;

      do {
        response = prompt("Give me a number that is greater than 100:", "");
      } while (response && response <= 100);

      // Task 7 - Output prime numbers
      // ---------------------------------------------------------------

      // Labels, continue and break
      //
      // A break must be inside a code block
      // A continue is only possible from inside a loop

      // Remainder %
      //
      // The result of a % b is the remainder of the integer division of a by b

      // Brute-force prime generator

      let n = 10;

      numbers: for (let i = 2; i <= n; i++) {
        divisions: for (let j = 2; j < i; j++) {
          if (i % j == 0) continue numbers;
        }

        alert(i);
      }

      // Technically, any labelled code block will do:
      //
      // label: {
      //   // ...
      //   break label; // works
      //   // ...
      // }

      // ---------------------------------------------------------------

      // Modal summary
      //
      // Task 1: 3, 2, 1
      // Task 2: 1, 2, 3, 4, 1, 2, 3, 4, 5
      // Task 3: 0, 1, 2, 3, 4, 0, 1, 2, 3, 4
      // Task 4: 2, 4, 6, 8, 10
      // Task 5: "number 0!", "number 1!", "number 2!"
      // Task 6: "Give me a number that is greater than 100:", ... (conditional branching)
      // Task 7: 2, 3, 5, 7
    </script>
  </body>
</html>
